<!-- https://egghead.io/lessons/react-rerender-a-react-application -->


<!-- Basic Event handler in react -->
<div id="reactRoot"></div>
<script src="https://unpkg.com/react@16.0.0/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@16.0.0/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>
<script type="text/babel">
    
    const state = {eventCount: 0, username: ''}
    function App() {
        return (
            <div>
                <p>There have been {state.eventCount} events</p>
                <p><button onClick={()=> setState({eventCount: state.eventCount+1})}>press me</button></p>
                <p>You typed: {state.username}</p>
                <p><input /></p>
            </div>
        )
    }

    //setState({eventCount: 10})

    function setState(newState) {
        Object.assign(state, newState)
        renderApp()
    }

    function renderApp(){
        ReactDOM.render(
            <App />,
            document.querySelector('#reactRoot')
        )
    }
    renderApp()
</script>

<hr>
<!-- Fancier Event handler in react -->
<div id="eventTarget"></div>
<script src="https://unpkg.com/react@16.0.0/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@16.0.0/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6.26.0/babel.js"></script>
<script type="text/babel">
    
    const stateFancy = {"eventCount": 0, usernameFancy: ''}
    function AppFancy() {
        return (
            <div>
                <p>There have been {stateFancy.eventCount} events</p>
                <p><button onClick={incrimentFancy}>press me too</button></p>
                <p>You typed: {stateFancy.usernameFancy}</p>
                <p><input onChange={event => setStateFancy({usernameFancy: event.target.value})} /></p>
                <p><input onChange={updateUsername} /></p>
            </div>
        )
    }

    function updateUsername (event) {
        console.log(event)
        // console.log(event.nativeEvent)
        setStateFancy({usernameFancy: event.target.value})
    }
    function incrimentFancy (){
        setStateFancy({
            "eventCount": stateFancy.eventCount+1
        })
    }

    function setStateFancy(newStateFancy) {
        Object.assign(stateFancy, newStateFancy)
        renderAppFancy()
    }

    function renderAppFancy(){
        ReactDOM.render(
            <AppFancy />,
            document.querySelector('#eventTarget')
        )
    }
    renderAppFancy()
</script>

<hr>
<!-- Using component state -->
<div id="componentStateTarget"></div>
<script type="text/babel">
console.log('hello')
    function StopWatch(){
        return (
            <div>
                <label>0ms</label>
                <button>Start</button>
                <button>Clear</button>
            </div>
        )
    }
    const componentElement = <StopWatch />
    ReactDOM.render(
        componentElement,
        document.querySelector("#componentStateTarget")
    )

</script>